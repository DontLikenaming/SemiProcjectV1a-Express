{{#section 'css'}}
    <style>
        .board {
            width: 700px; margin: 0 auto;
            table-layout: fixed;
        }
        .alignrgt {text-align-last: right}
        .board td {text-align: center; padding: 7px;}
        .board {text-align: center; padding: 7px;}
        .board th {padding: 7px; background: lightgreen}
        .board td:nth-child(2) {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: left;
        }
        .board tr:nth-child(odd) {background: #bce55c}
        .board tr:nth-child(even) {background: #e4f7ba}

        .pagenation {
            list-style: none;
            margin: 0 auto; padding: 0;
            text-align: center;
        }
        .pagenation li {
            display: inline-block;
            padding: 5px;
        }
        .cpage {
            font: bold 24px '맑은고딕';
            color: red;

        }
        .prev {color: #cccccc}
    </style>
{{/section}}
{{#section 'script'}}
    <script>
        let newbtn = document.querySelector('#newbtn');
        //optional chaining (?.)
        //?앞의 객체변수가 null이거나 undefined라면
        //.뒤의 코드를 실행하지 않음
        newbtn?.addEventListener('click',()=>{
        location.href = '/board/write';
        });

        let pagenation = document.querySelector('#pagenation');

    </script>
{{/section}}
<h3>게시판</h3>
<table class="board">
    <colgroup><!-- 각 컬럼에 디자인 적용 가능 -->
        <col style="width: 10%">
        <col>
        <col style="width: 15%">
        <col style="width: 15%">
        <col style="width: 10%">
    </colgroup>

    <tr>
        <Td colspan="5" class="alignrgt">
                {{#if session.userid}}
                    <button type="button" id="newbtn" name="newbtn">새글쓰기</button>
                {{else}}&nbsp;{{/if}}
        </Td>
    </tr>
    <tr>
        <th>번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>작성일</th>
        <th>조회</th>
    </tr>
    {{#bds}}
        <tr>
            <td>{{idx}}</td>
            <td><a href="/board/view?bno={{bno}}">{{title}}</a></td>
            <td>{{userid}}</td>
            <td>{{regdate}}</td>
            <td>{{views}}</td>
        </tr>
    {{/bds}}
</table>
<ul class="pagenation">
{{#pgn}}
    {{#if isprev}}
        <li>
            <a href="?cpg={{prev10}}"> << </a>
        </li>
        <li>
            <a href="?cpg={{prev}}">이전</a>
        </li>
        {{else}}
        <li>
            &emsp;&emsp;&nbsp;
        </li>
    {{/if}}
{{/pgn}}
    {{#stpgns}}
        {{#if iscpg}}
            <li class="cpage">{{num}}</li>
        {{else}}
            {{#if checknum}}
                <li><a href="?cpg={{num}}">{{num}}</a>&ensp;</li>
            {{else}}
                <li><a href="?cpg={{num}}">{{num}}</a></li>
            {{/if}}
        {{/if}}
    {{/stpgns}}
    {{#pgn}}
        {{#if isnext}}
            <li>
                <a href="?cpg={{next}}">다음</a>
            </li>
            <li>
                <a href="?cpg={{next10}}"> >> </a>
            </li>
        {{/if}}
    {{/pgn}}
</ul>
